<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Play-Example-Quality-Assurance : Automated quality assurance tool integration (checkstyle, pmd, jacoco, findbugs, javadoc/scaladoc) for the Play Framework" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Play-Example-Quality-Assurance</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/ics-software-engineering/play-example-quality-assurance">View on GitHub</a>

          <h1 id="project_title">Play-Example-Quality-Assurance</h1>
          <h2 id="project_tagline">Automated quality assurance tool integration (checkstyle, pmd, jacoco, findbugs, javadoc/scaladoc) for the Play Framework</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/ics-software-engineering/play-example-quality-assurance/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/ics-software-engineering/play-example-quality-assurance/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="overview" class="anchor" href="#overview"><span class="octicon octicon-link"></span></a>Overview</h1>

<p>This project illustrates how to integrate the following quality assurance tools with <a href="http://www.playframework.com/">Play</a> applications:</p>

<ul>
<li>
<a href="http://pmd.sourceforge.net/">PMD</a> source code analysis</li>
<li>
<a href="http://checkstyle.sourceforge.net/">Checkstyle</a> source code analysis</li>
<li>
<a href="http://findbugs.sourceforge.net/">FindBugs</a> byte code analysis</li>
<li>
<a href="http://www.oracle.com/technetwork/java/javase/documentation/index-jsp-135444.html">JavaDoc</a> and <a href="http://docs.scala-lang.org/style/scaladoc.html">ScalaDoc</a> documentation generation</li>
<li>
<a href="http://www.eclemma.org/jacoco/">Jacoco</a> test coverage analysis</li>
</ul><h1>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h1>

<p>Adding these tools to your Play project requires adding a <code>qa.sbt</code> file and changes to the <a href="project">project/</a> directory:</p>

<ul>
<li>Create <a href="qa.sbt">qa.sbt</a> to add commands to the play console; the contents of this file augment the contents of <code>build.sbt</code>.</li>
<li>Update <a href="project/plugins.sbt">plugins.sbt</a> to add libraries.</li>
<li>Add command definition files: <a href="project/ApiDocSettings.scala">ApiDocSettings.scala</a>, <a href="project/CheckstyleSettings.scala">CheckstyleSettings.scala</a>, and <a href="project/PmdSettings.scala">PmdSettings.scala</a>.</li>
<li>Add (and maybe modify) configuration files: <a href="project/checkstyle-config.xml">checkstyle-config.xml</a>, <a href="project/pmd-ruleset.xml">pmd-ruleset.xml</a>, and <a href="project/findbugs-excludefilter.xml">findbugs-excludefilter.xml</a>.</li>
</ul><h1>
<a name="screencast" class="anchor" href="#screencast"><span class="octicon octicon-link"></span></a>Screencast</h1>

<p>Click the image below to watch a 14 minute walkthrough of this example:</p>

<p><a href="https://www.youtube.com/watch?v=uRknW9EjISw"><img src="https://raw.github.com/ics-software-engineering/play-example-quality-assurance/master/doc/play-example-quality-assurance-screenshot.png" width="400"></a>  </p>

<h1>
<a name="example-invocations" class="anchor" href="#example-invocations"><span class="octicon octicon-link"></span></a>Example invocations</h1>

<h2>
<a name="pmd" class="anchor" href="#pmd"><span class="octicon octicon-link"></span></a>PMD</h2>

<pre><code>[~/projecthosting/github/play-example-quality-assurance]-&gt; play pmd
[info] Loading project definition from /Users/johnson/projecthosting/github/play-example-quality-assurance/project
[info] Set current project to play-example-quality-assurance (in build file:/Users/johnson/projecthosting/github/play-example-quality-assurance/)
[info] Running PMD...
[info] 
[success] Total time: 1 s, completed Jun 10, 2013 1:33:54 PM
</code></pre>

<p>The output file is in <code>target/pmd/pmd-report.txt</code> and echoed to the console.<br>
For Play's default application, no PMD warnings are generated, resulting in a blank info line output.</p>

<p>Modify <a href="project/pmd-ruleset.xml">pmd-ruleset.xml</a> to change the way PMD analyzes your code. </p>

<h2>
<a name="checkstyle" class="anchor" href="#checkstyle"><span class="octicon octicon-link"></span></a>Checkstyle</h2>

<pre><code>[~/projecthosting/github/play-example-quality-assurance]-&gt; play checkstyle
[info] Loading project definition from /Users/johnson/projecthosting/github/play-example-quality-assurance/project
[info] Set current project to play-example-quality-assurance (in build file:/Users/johnson/projecthosting/github/play-example-quality-assurance/)
[info] Running checkstyle...
[info] Starting audit...
[info] /Users/johnson/projecthosting/github/play-example-quality-assurance/app/controllers/Application.java:0: Missing package-info.java file.
[info] /Users/johnson/projecthosting/github/play-example-quality-assurance/app/controllers/Application.java:3: Using the '.*' form of import should be avoided - play.*.
[info] /Users/johnson/projecthosting/github/play-example-quality-assurance/app/controllers/Application.java:4: Using the '.*' form of import should be avoided - play.mvc.*.
[info] /Users/johnson/projecthosting/github/play-example-quality-assurance/app/controllers/Application.java:6: Using the '.*' form of import should be avoided - views.html.*.
[info] /Users/johnson/projecthosting/github/play-example-quality-assurance/app/controllers/Application.java:8: Missing a Javadoc comment.
[info] /Users/johnson/projecthosting/github/play-example-quality-assurance/app/controllers/Application.java:9: Line has trailing spaces.
[info] /Users/johnson/projecthosting/github/play-example-quality-assurance/app/controllers/Application.java:10:5: Missing a Javadoc comment.
[info] /Users/johnson/projecthosting/github/play-example-quality-assurance/app/controllers/Application.java:13: Line has trailing spaces.
[info] /Users/johnson/projecthosting/github/play-example-quality-assurance/app/views/index.scala.html:4: Line has trailing spaces.
[info] /Users/johnson/projecthosting/github/play-example-quality-assurance/app/views/index.scala.html:6: Line has trailing spaces.
[info] Audit done.
[success] Total time: 1 s, completed Jun 10, 2013 1:39:55 PM
</code></pre>

<p>The output file is in <code>target/checkstyle/checkstyle-report.txt</code> and also echoed to the console. 
For Play's default application, 10 Checkstyle warnings are generated.</p>

<p>Modify <a href="project/checkstyle-config.xml">checkstyle-config.xml</a> to change the way Checkstyle analyzes your code.</p>

<h2>
<a name="findbugs" class="anchor" href="#findbugs"><span class="octicon octicon-link"></span></a>FindBugs</h2>

<pre><code>[~/projecthosting/github/play-example-quality-assurance]-&gt; play findbugs
[info] Loading project definition from /Users/johnson/projecthosting/github/play-example-quality-assurance/project
[info] Set current project to play-example-quality-assurance (in build file:/Users/johnson/projecthosting/github/play-example-quality-assurance/)
[success] Total time: 7 s, completed Jun 10, 2013 1:45:10 PM
</code></pre>

<p>The output file is in <code>target/findbugs/findbugs.xml</code>.<br>
For Play's default application, no FindBug errors are generated, but the plugin will output the number of warnings found if non-zero.</p>

<p>Modify <a href="project/findbugs-excludefilter.xml">findbugs-excludefilter.xml</a> to change the way findbugs processes your code. 
Additional FindBugs configuration options can be provided in <a href="qa.sbt">qa.sbt</a>.</p>

<h2>
<a name="jacoco" class="anchor" href="#jacoco"><span class="octicon octicon-link"></span></a>Jacoco</h2>

<pre><code>[~/projecthosting/github/play-example-quality-assurance]-&gt; play jacoco:cover
[info] Loading project definition from /Users/johnson/projecthosting/github/play-example-quality-assurance/project
[info] Set current project to play-example-quality-assurance (in build file:/Users/johnson/projecthosting/github/play-example-quality-assurance/)
[info] ApplicationTest
[info] + ApplicationTest.simpleCheck
[info] + ApplicationTest.renderTemplate
[info] 
[info] 
[info] Total for test ApplicationTest
[info] Finished in 0.239 seconds
[info] 2 tests, 0 failures, 0 errors
[info] IntegrationTest
[info] + IntegrationTest.test
[info] 
[info] 
[info] Total for test IntegrationTest
[info] Finished in 2.875 seconds
[info] 1 tests, 0 failures, 0 errors
[info] Passed: : Total 3, Failed 0, Errors 0, Passed 3, Skipped 0
[success] Total time: 4 s, completed Jun 10, 2013 1:51:29 PM
</code></pre>

<p>The output report is available in <code>target/jacoco/html/index.html</code>.<br>
For Play's default application, statement coverage is 57%.</p>

<p>Jacoco configuration options can be provided in <a href="qa.sbt">qa.sbt</a>.</p>

<h2>
<a name="javadoc-and-scaladoc" class="anchor" href="#javadoc-and-scaladoc"><span class="octicon octicon-link"></span></a>JavaDoc and ScalaDoc</h2>

<pre><code>[~/projecthosting/github/play-example-quality-assurance]-&gt; play api-doc
[info] Loading project definition from /Users/johnson/projecthosting/github/play-example-quality-assurance/project
[info] Set current project to play-example-quality-assurance (in build file:/Users/johnson/projecthosting/github/play-example-quality-assurance/)
[info] No sources available, skipping Scala API documentation...
[info] Creating destination directory: "target/doc/api/java/"
[info] Loading source files for package controllers...
[info] Loading source files for package tests...
[info] Constructing Javadoc information...
[info] Standard Doclet version 1.7.0_10
[info] Building tree for all the packages and classes...
[info] Generating target/doc/api/java/controllers/Application.html...
[info] Generating target/doc/api/java/tests/ApplicationTest.html...
[info] Generating target/doc/api/java/tests/IntegrationTest.html...
[info] Generating target/doc/api/java/overview-frame.html...
[info] Generating target/doc/api/java/controllers/package-frame.html...
[info] Generating target/doc/api/java/controllers/package-summary.html...
[info] Generating target/doc/api/java/controllers/package-tree.html...
[info] Generating target/doc/api/java/tests/package-frame.html...
[info] Generating target/doc/api/java/tests/package-summary.html...
[info] Generating target/doc/api/java/tests/package-tree.html...
[info] Generating target/doc/api/java/constant-values.html...
[info] Generating target/doc/api/java/src-html/controllers/Application.html...
[info] Generating target/doc/api/java/src-html/tests/IntegrationTest.html...
[info] Generating target/doc/api/java/src-html/tests/ApplicationTest.html...
[info] Building index for all the packages and classes...
[info] Generating target/doc/api/java/overview-tree.html...
[info] Generating target/doc/api/java/index-all.html...
[info] Generating target/doc/api/java/deprecated-list.html...
[info] Building index for all classes...
[info] Generating target/doc/api/java/allclasses-frame.html...
[info] Generating target/doc/api/java/allclasses-noframe.html...
[info] Generating target/doc/api/java/index.html...
[info] Generating target/doc/api/java/overview-summary.html...
[info] Generating target/doc/api/java/help-doc.html...
API documentation in target/doc/api

[success] Total time: 2 s, completed Jun 10, 2013 1:55:36 PM
</code></pre>

<p>The API documentation can be found in <code>target/doc/api</code>.</p>

<p>NOTE: With this approach, in order for test code to be documented by JavaDoc, you must locate them a package called 
"tests" inside the top-level test/ directory. See this repo for an example.
This is a change from the "play new" command, which puts the sample tests in the default package.  Creating a
"tests" package creates consistency with the existing Play convention of "controllers", "models", and "views"
packages.  </p>

<p>To modify the output, edit <a href="project/ApiDocSettings.scala">ApiDocSettings.scala</a>.</p>

<h1>
<a name="credits" class="anchor" href="#credits"><span class="octicon octicon-link"></span></a>Credits</h1>

<ul>
<li>Tweaked docs and migrated to Play 2.2.0 build.sbt format, thanks to Mike Slinn: <a href="https://github.com/mslinn">https://github.com/mslinn</a>
</li>
<li>Checkstyle and PMD integration thanks to Lily Masory: <a href="https://github.com/ymasory/sbt-code-quality.g8">https://github.com/ymasory/sbt-code-quality.g8</a>
</li>
<li>Findbugs integration thanks to Joachim Hofer: <a href="https://bitbucket.org/jmhofer/findbugs4sbt/wiki/Home">https://bitbucket.org/jmhofer/findbugs4sbt/wiki/Home</a>
</li>
<li>Jacoco integration thanks to Joachim Hofer: <a href="https://bitbucket.org/jmhofer/jacoco4sbt">https://bitbucket.org/jmhofer/jacoco4sbt</a>
</li>
<li>JavaDoc/ScalaDoc integration thanks to Yvonnick Esnault: <a href="https://github.com/yesnault/Play20StartApp/">https://github.com/yesnault/Play20StartApp/</a>
</li>
</ul><h2>
<a name="play-version" class="anchor" href="#play-version"><span class="octicon octicon-link"></span></a>Play version</h2>

<p>Last tested on Play 2.2.0</p>

<h2>
<a name="build-status" class="anchor" href="#build-status"><span class="octicon octicon-link"></span></a>Build status</h2>

<p><a href="https://philipmjohnson.ci.cloudbees.com/job/play-example-quality-assurance/"><img src="https://philipmjohnson.ci.cloudbees.com/buildStatus/icon?job=play-example-quality-assurance" alt="Build Status"></a> </p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Play-Example-Quality-Assurance maintained by <a href="https://github.com/ics-software-engineering">ics-software-engineering</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
