{"name":"Play-Example-Quality-Assurance","tagline":"Automated quality assurance tool integration (checkstyle, pmd, jacoco, findbugs, javadoc/scaladoc) for the Play Framework","body":"Overview\r\n========\r\n\r\nThis system illustrates how to integrate the following quality assurance tools with [Play](http://www.playframework.com/) applications:\r\n\r\n  * [PMD](http://pmd.sourceforge.net/) source code analysis\r\n  * [Checkstyle](http://checkstyle.sourceforge.net/) source code analysis\r\n  * [FindBugs](http://findbugs.sourceforge.net/) byte code analysis\r\n  * [JavaDoc](http://www.oracle.com/technetwork/java/javase/documentation/index-jsp-135444.html) and [ScalaDoc](http://docs.scala-lang.org/style/scaladoc.html) documentation generation\r\n  * [Jacoco](http://www.eclemma.org/jacoco/) test coverage analysis\r\n  \r\nThe code is designed to allow you to add only those tools that you need for your project. Installation and running\r\nof each tool is discussed separately below.\r\n\r\nPMD\r\n===\r\n\r\nInstallation\r\n------------\r\n\r\n  * Update [project/plugins.sbt](https://github.com/ics-software-engineering/play-example-quality-assurance/blob/master/project/plugins.sbt) with the PMD library dependency.\r\n  * Add [project/pmd-ruleset.xml](https://github.com/ics-software-engineering/play-example-quality-assurance/blob/master/project/pmd-ruleset.xml)\r\n  * Add [project/PmdSettings.scala](https://github.com/ics-software-engineering/play-example-quality-assurance/blob/master/project/PmdSettings.scala)\r\n  * Add [qa.pmd.sbt](https://github.com/ics-software-engineering/play-example-quality-assurance/blob/master/qa.pmd.sbt)\r\n  \r\nNote that the current implementation of PMD conflicts with the current implementation of Jacoco. Only one or the other can be installed. \r\nSee the Jacoco documentation below for more details. \r\n\r\nInvocation\r\n---------\r\n\r\n```\r\n[~/projecthosting/github/play-example-quality-assurance]-> play pmd\r\n[info] Loading project definition from /Users/johnson/projecthosting/github/play-example-quality-assurance/project\r\n[info] Set current project to play-example-quality-assurance (in build file:/Users/johnson/projecthosting/github/play-example-quality-assurance/)\r\n[info] Running PMD...\r\n[info] <?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n[info] <pmd version=\"5.0.0\" timestamp=\"2014-01-10T13:05:53.566\">\r\n[info] </pmd>\r\n[success] Total time: 1 s, completed Jan 10, 2014 1:05:53 PM\r\n```\r\n\r\nThe output file is in target/pmd/pmd-report.xml and echoed to the console.  For Play's default application, no PMD warnings are generated.\r\n\r\nCheckstyle\r\n==========\r\n\r\nInstallation\r\n------------\r\n\r\n  * Update [project/plugins.sbt](https://github.com/ics-software-engineering/play-example-quality-assurance/blob/master/project/plugins.sbt) with the Checkstyle library dependency.\r\n  * Add [project/checkstyle-config.xml](https://github.com/ics-software-engineering/play-example-quality-assurance/blob/master/project/checkstyle-config.xml)\r\n  * Add [project/CheckstyleSettings.scala](https://github.com/ics-software-engineering/play-example-quality-assurance/blob/master/project/CheckstyleSettings.scala)\r\n  * Add [qa.checkstyle.sbt](https://github.com/ics-software-engineering/play-example-quality-assurance/blob/master/qa.checkstyle.sbt) \r\n\r\nInvocation\r\n----------\r\n\r\n```\r\n[~/projecthosting/github/play-example-quality-assurance]-> play checkstyle\r\n[info] Loading project definition from /Users/johnson/projecthosting/github/play-example-quality-assurance/project\r\n[info] Set current project to play-example-quality-assurance (in build file:/Users/johnson/projecthosting/github/play-example-quality-assurance/)\r\n[info] Running checkstyle...\r\n[info] <?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n[info] <checkstyle version=\"5.5\">\r\n[info] <file name=\"/Users/johnson/projecthosting/github/play-example-quality-assurance/app/controllers/Application.java\">\r\n[info] <error line=\"0\" severity=\"error\" message=\"Missing package-info.java file.\" source=\"com.puppycrawl.tools.checkstyle.checks.javadoc.JavadocPackageCheck\"/>\r\n[info] <error line=\"3\" severity=\"error\" message=\"Using the &apos;.*&apos; form of import should be avoided - play.*.\" source=\"com.puppycrawl.tools.checkstyle.checks.imports.AvoidStarImportCheck\"/>\r\n[info] <error line=\"4\" severity=\"error\" message=\"Using the &apos;.*&apos; form of import should be avoided - play.mvc.*.\" source=\"com.puppycrawl.tools.checkstyle.checks.imports.AvoidStarImportCheck\"/>\r\n[info] <error line=\"6\" severity=\"error\" message=\"Using the &apos;.*&apos; form of import should be avoided - views.html.*.\" source=\"com.puppycrawl.tools.checkstyle.checks.imports.AvoidStarImportCheck\"/>\r\n[info] <error line=\"8\" severity=\"error\" message=\"Missing a Javadoc comment.\" source=\"com.puppycrawl.tools.checkstyle.checks.javadoc.JavadocTypeCheck\"/>\r\n[info] <error line=\"10\" column=\"5\" severity=\"error\" message=\"Missing a Javadoc comment.\" source=\"com.puppycrawl.tools.checkstyle.checks.javadoc.JavadocMethodCheck\"/>\r\n[info] </file>\r\n[info] <file name=\"/Users/johnson/projecthosting/github/play-example-quality-assurance/app/views/index.scala.html\">\r\n[info] </file>\r\n[info] <file name=\"/Users/johnson/projecthosting/github/play-example-quality-assurance/app/views/main.scala.html\">\r\n[info] </file>\r\n[info] </checkstyle>\r\n[success] Total time: 1 s, completed Jan 10, 2014 1:08:06 PM\r\n```\r\n\r\n\r\nThe output file is in target/checkstyle/checkstyle-report.xml and also echoed to the console. For Play's default application, 6 Checkstyle warnings are generated.\r\n\r\n\r\nFindBugs\r\n========\r\n\r\nInstallation\r\n------------\r\n\r\n  * Update [project/plugins.sbt](https://github.com/ics-software-engineering/play-example-quality-assurance/blob/master/project/plugins.sbt) with the FindBugs sbt plugin.\r\n  * Add [project/findbugs-exclude-filters.xml](https://github.com/ics-software-engineering/play-example-quality-assurance/blob/master/project/findbugs-exclude-filters.xml)\r\n  * Add [qa.findbugs.sbt](https://github.com/ics-software-engineering/play-example-quality-assurance/blob/master/qa.findbugs.sbt) \r\n\r\nInvocation\r\n----------\r\n\r\n```\r\n[~/projecthosting/github/play-example-quality-assurance]-> play findbugs\r\n[info] Loading project definition from /Users/johnson/projecthosting/github/play-example-quality-assurance/project\r\n[info] Set current project to play-example-quality-assurance (in build file:/Users/johnson/projecthosting/github/play-example-quality-assurance/)\r\n[success] Total time: 7 s, completed Jun 10, 2013 1:45:10 PM\r\n```\r\n\r\nThe output file is in `target/findbugs/findbugs.xml`.  \r\nFor Play's default application, no FindBug errors are generated, but the plugin will output the number of warnings found if non-zero.\r\n\r\n\r\nJacoco\r\n======\r\n\r\nInstallation\r\n------------\r\n\r\n  * Update [project/plugins.sbt](https://github.com/ics-software-engineering/play-example-quality-assurance/blob/master/project/plugins.sbt) with the Jacoco sbt plugin.\r\n  * Add [qa.jacoco.sbt](https://github.com/ics-software-engineering/play-example-quality-assurance/blob/master/qa.jacoco.sbt)\r\n  \r\nNote: Due to ASM library incompatibilities (?), you cannot install both Jacoco and PMD.  If you do, then Jacoco\r\nwill report the following error:\r\n    \r\n    [error] (jacoco:fullClasspath) java.lang.IncompatibleClassChangeError: class org.jacoco.core.internal.flow.ClassProbesVisitor has interface org.objectweb.asm.ClassVisitor as super class\r\n\r\nInvocation\r\n----------\r\n\r\n```\r\n[~/projecthosting/github/play-example-quality-assurance]-> play jacoco:cover\r\n[info] Loading project definition from /Users/johnson/projecthosting/github/play-example-quality-assurance/project\r\n[info] Set current project to play-example-quality-assurance (in build file:/Users/johnson/projecthosting/github/play-example-quality-assurance/)\r\n[info] ApplicationTest\r\n[info] + ApplicationTest.simpleCheck\r\n[info] + ApplicationTest.renderTemplate\r\n[info] \r\n[info] \r\n[info] Total for test ApplicationTest\r\n[info] Finished in 0.239 seconds\r\n[info] 2 tests, 0 failures, 0 errors\r\n[info] IntegrationTest\r\n[info] + IntegrationTest.test\r\n[info] \r\n[info] \r\n[info] Total for test IntegrationTest\r\n[info] Finished in 2.875 seconds\r\n[info] 1 tests, 0 failures, 0 errors\r\n[info] Passed: : Total 3, Failed 0, Errors 0, Passed 3, Skipped 0\r\n[success] Total time: 4 s, completed Jun 10, 2013 1:51:29 PM\r\n```\r\n\r\nThe output report is available in `target/jacoco/html/index.html`.  \r\nFor Play's default application, statement coverage is 57%.\r\n\r\n\r\nJavaDoc and ScalaDoc\r\n====================\r\n\r\nInstallation\r\n------------\r\n\r\n  * Add [project/ApiDocSettings.scala](https://github.com/ics-software-engineering/play-example-quality-assurance/blob/master/project/ApiDocSettings.scala)\r\n  * Add [qa.apidoc.sbt](https://github.com/ics-software-engineering/play-example-quality-assurance/blob/master/qa.apidoc.sbt) \r\n\r\nInvocation\r\n----------\r\n\r\n```\r\n[~/projecthosting/github/play-example-quality-assurance]-> play api-doc\r\n[info] Loading project definition from /Users/johnson/projecthosting/github/play-example-quality-assurance/project\r\n[info] Set current project to play-example-quality-assurance (in build file:/Users/johnson/projecthosting/github/play-example-quality-assurance/)\r\n[info] No sources available, skipping Scala API documentation...\r\n[info] Creating destination directory: \"target/doc/api/java/\"\r\n[info] Loading source files for package controllers...\r\n[info] Loading source files for package tests...\r\n[info] Constructing Javadoc information...\r\n[info] Standard Doclet version 1.7.0_10\r\n[info] Building tree for all the packages and classes...\r\n[info] Generating target/doc/api/java/controllers/Application.html...\r\n[info] Generating target/doc/api/java/tests/ApplicationTest.html...\r\n[info] Generating target/doc/api/java/tests/IntegrationTest.html...\r\n[info] Generating target/doc/api/java/overview-frame.html...\r\n[info] Generating target/doc/api/java/controllers/package-frame.html...\r\n[info] Generating target/doc/api/java/controllers/package-summary.html...\r\n[info] Generating target/doc/api/java/controllers/package-tree.html...\r\n[info] Generating target/doc/api/java/tests/package-frame.html...\r\n[info] Generating target/doc/api/java/tests/package-summary.html...\r\n[info] Generating target/doc/api/java/tests/package-tree.html...\r\n[info] Generating target/doc/api/java/constant-values.html...\r\n[info] Generating target/doc/api/java/src-html/controllers/Application.html...\r\n[info] Generating target/doc/api/java/src-html/tests/IntegrationTest.html...\r\n[info] Generating target/doc/api/java/src-html/tests/ApplicationTest.html...\r\n[info] Building index for all the packages and classes...\r\n[info] Generating target/doc/api/java/overview-tree.html...\r\n[info] Generating target/doc/api/java/index-all.html...\r\n[info] Generating target/doc/api/java/deprecated-list.html...\r\n[info] Building index for all classes...\r\n[info] Generating target/doc/api/java/allclasses-frame.html...\r\n[info] Generating target/doc/api/java/allclasses-noframe.html...\r\n[info] Generating target/doc/api/java/index.html...\r\n[info] Generating target/doc/api/java/overview-summary.html...\r\n[info] Generating target/doc/api/java/help-doc.html...\r\nAPI documentation in target/doc/api\r\n\r\n[success] Total time: 2 s, completed Jun 10, 2013 1:55:36 PM\r\n```\r\n\r\nThe API documentation can be found in `target/doc/api`.\r\n\r\nNOTE: With this approach, in order for test code to be documented by JavaDoc, you must locate them a package called \r\n\"tests\" inside the top-level test/ directory. See this repo for an example.\r\nThis is a change from the \"play new\" command, which puts the sample tests in the default package.  Creating a\r\n\"tests\" package creates consistency with the existing Play convention of \"controllers\", \"models\", and \"views\"\r\npackages.  \r\n\r\n\r\nCredits\r\n=======\r\n\r\n  * Tweaked docs and migrated to Play 2.2.0 build.sbt format, thanks to Mike Slinn: https://github.com/mslinn\r\n  * Checkstyle and PMD integration thanks to Lily Masory: https://github.com/ymasory/sbt-code-quality.g8\r\n  * Findbugs integration thanks to Joachim Hofer: https://bitbucket.org/jmhofer/findbugs4sbt/wiki/Home\r\n  * Jacoco integration thanks to Joachim Hofer: https://bitbucket.org/jmhofer/jacoco4sbt\r\n  * JavaDoc/ScalaDoc integration thanks to Yvonnick Esnault: https://github.com/yesnault/Play20StartApp/\r\n  * Many tweaks thanks to Mike Slinn: https://github.com/mslinn\r\n  \r\nPlay version\r\n============\r\n\r\nLast tested on Play 2.2.0\r\n\r\n\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}